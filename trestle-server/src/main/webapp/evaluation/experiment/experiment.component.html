<div fxLayout="column" fxLayoutGap="50px">
    <div fxLayout="row" class="map-container" fxLayoutGap="10px">
        <div fxFlex="90%">
            <div *ngIf="mapVisible !== 'visible'" class="loading-text">Loading experiment, please wait....</div>
            <trestle-map [style.visibility]="mapVisible"
                         [single]="false"
                         [multiSelect]="true"
                         [zoomOnLoad]="false"
                         [config]="mapConfig"
                         [dataChanges]="dataChanges"
                         [handlers]="mapEventHandlers"
                         class="map-container"></trestle-map>
        </div>
        <div>
            <h6 class="light_gray_text">Change height</h6>
            <mat-slider
                    [vertical]="true"
                    [min]="0"
                    [max]="500"
                    [(ngModel)]="currentSliderValue"
                    (input)="sliderUpdate($event)"></mat-slider>
        </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="20px">
        <div>
            Is there a spatial union?
        </div>
        <div>
            <mat-radio-group [(ngModel)]="answered">
                <mat-radio-button [value]="true">Yes</mat-radio-button>
                <mat-radio-button [value]="false">No</mat-radio-button>
            </mat-radio-group>
        </div>
        <div>
            <div [hidden]="!showOptions()">
                Which entities contribute to the union?
                <selection-table [data]="tableData"
                                 (minimalSelection)="minimalSelectionHandler()"></selection-table>
            </div>
        </div>
        <div *ngIf="showNext()"
             [ngSwitch]="experimentValue" fxFlexAlign="start">
            <button *ngSwitchCase="10" mat-raised-button
                    (click)="next(true)">Finish
            </button>
            <button *ngSwitchDefault mat-raised-button
                    (click)="next()">Next
            </button>
        </div>
    </div>
    <div>
        <em class="float-right">{{experimentValue  + "/ 10"}}</em>
        <mat-progress-bar
                [color]="'accent'"
                [mode]="'determinate'"
                [value]="experimentValue * 10"></mat-progress-bar>
    </div>
</div>
