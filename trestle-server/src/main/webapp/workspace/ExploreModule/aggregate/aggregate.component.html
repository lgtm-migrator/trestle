<div fxLayout="column" fxLayoutGap="50px" class="aggregate-container">
    <div class="map-container">
        <trestle-map #map [single]="false"
                     [multiSelect]="true"
                     [zoomOnLoad]="false"
                     [config]="mapConfig"
                     [dataChanges]="dataChanges"
                     class="map-container"></trestle-map>
    </div>
    <div fxLayout="row" fxLayoutGap="20px">
        <div>
            Select a dataset:
            <mat-select [(value)]="selectedDs"
                        placeholder="Select available dataset"
                        (selectionChange)="datasetChanged($event)">
                <mat-option *ngFor="let ds of datasets" [value]="ds">
                    {{ds}}
                </mat-option>
            </mat-select>
        </div>
        <div>
            Country:
            <mat-select [(value)]="selectedCountry" placeholder="Select country">
                <mat-option *ngFor="let country of countries" [value]="country">
                    {{country}}
                </mat-option>
            </mat-select>
        </div>
        <div>
            <div [hidden]="!selectedDs">
                Select an Aggregation:
                <mat-select [(value)]="selectedAggregation">
                    <mat-option [value]="'EXISTENCE'">
                        Existence
                    </mat-option>
                </mat-select>
            </div>
        </div>
        <div>
            <button mat-raised-button color="primary"
                    [disabled]="!selectedAggregation || !selectedDs"
            (click)="aggregate()">
                AGGREGATE
            </button>
        </div>
    </div>
</div>
