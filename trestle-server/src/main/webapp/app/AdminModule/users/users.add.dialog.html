<h1 *ngIf="!isUpdate()" md-dialog-title>Add User</h1>
<h1 *ngIf="isUpdate()" md-dialog-title>Modify {{user.username}}</h1>
<div md-dialog-content>
    <div class="row">
        <form #f="ngForm" novalidate (ngSubmit)="saveWithValid(f.value, f.valid)" class="col s12">
            <div class="row">
                <div class="input-field col s6">
                    <input id="first_name" type="text" [(ngModel)]="user.firstName" name="firstName">
                    <label for="first_name">First Name</label>
                </div>
                <div class="input-field col s6">
                    <input id="last_name" type="text" [(ngModel)]="user.lastName"  name="lastName">
                    <label for="last_name">Last Name</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input id="username" type="text" [(ngModel)]="user.username" name="username">
                    <label for="username">Username</label>
                </div>
                <div class="input-field col s6">
                    <input id="password" type="password" [(ngModel)]="user.password" name="password">
                    <label for="password">Password</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <label for="email">Email</label>
                    <input id="email" type="text" [(ngModel)]="user.email" name="email">
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <md-button-toggle-group multiple>
                        <md-button-toggle
                                *ngFor="let item of privileges | mapValues"
                                [checked]="isSelected(item.value)"
                                (change)="alterPermissionLevel(item.value)">{{item.key}}</md-button-toggle>
                    </md-button-toggle-group>
                </div>
            </div>
        </form>
    </div>
</div>
<div md-dialog-actions>
    <button md-button type="submit" (click)="save()" *ngIf="!isUpdate()">Add User</button>
    <button md-button type="submit" (click)="save()" *ngIf="isUpdate()">Update User</button>
    <button md-button type="submit" (click)="delete()" *ngIf="isUpdate()" color="warn">Delete User</button>
</div>