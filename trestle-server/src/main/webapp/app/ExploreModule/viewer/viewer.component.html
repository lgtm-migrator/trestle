<div class="section">
    <h4>Dataset Viewer</h4>
    <div class="row ">
        <div class="col s10 map-container">
            <trestle-map [individual]="loadedDataset" [single]="true" [multiSelect]="false" [lockMap]="mapUnlocked"
                         (mapBounds)="updateBounds($event)" (clicked)="mapClicked($event)"></trestle-map>
        </div>
        <div class="col s2 z-depth-2 dataset-container">
            <h6>Available Datasets</h6>
            <ul class="collection">
                <li class="collection-item" *ngFor="let ds of availableDatasets" (click)="loadDataset(ds)">
                    <mat-icon *ngIf="(ds.state == DatasetState.UNLOADED)" [@fadeInOut]>check_circle</mat-icon>
                    <mat-spinner class="loading-spinner" *ngIf="ds.state == DatasetState.LOADING"
                                [@fadeInOut] [diameter]="24" [strokeWidth]="3"></mat-spinner>
                    <mat-icon *ngIf="(ds.state == DatasetState.LOADED)" class="selected" [@fadeInOut]>check_circle</mat-icon>
                    <mat-icon *ngIf="(ds.state == DatasetState.ERROR)" class="orange600" [@fadeInOut]>error</mat-icon>
                    {{ds.name}}
                </li>
            </ul>
        </div>
    </div>
    <div class="section">
        <div class="row">
            <div class="col s10">
                <mat-slider thumbLabel tickInterval="1" [max]="maxTime.year()" [min]="minTime.year()" [value]="sliderValue"
                           (change)="sliderChanged($event)">
                </mat-slider>
            </div>
        </div>
    </div>
</div>
<div class="section" *ngIf="objectHistory">
    <h4>Object History</h4>
    <div class="row">
        <history-graph [minTime]="minTime" [maxTime]="maxTime" [data]="objectHistory" [graphHeight]="300"></history-graph>
    </div>
</div>