<div class="section">
    <h4>Search for Individual</h4>
    <form (ngSubmit)="onSubmit()" class="search-form">
        <mat-input-container class="search-field">
            <input type="text" placeholder="Search for Individual" matInput [formControl]="individualName"
                   [matAutocomplete]="auto">
        </mat-input-container>

        <mat-autocomplete class="search-field" #auto="matAutocomplete">
            <mat-option *ngFor="let option of options | async" [value]="option" (click)="selectedOption(option)">
                {{displayFn(option)}}
            </mat-option>
        </mat-autocomplete>
        <button mat-raised-button type="submit">submit</button>
    </form>
</div>
<div class="section">
    <div class="row">
        <div class="col s12 l7 ui-row">
            <trestle-map [individual]="mapIndividual" [single]="true" [multiSelect]="false"></trestle-map>
        </div>
        <div class="col s12 l5 ui-row">
            <individual-graph [config]="{data: individual}"></individual-graph>
        </div>
    </div>
</div>
<div class="section">
    <mat-tab-group>
        <mat-tab label="Fact History">
            <div class="section">
                <history-graph id="fact-history" [data]="individualFactHistory" [minTime]="minTime" [maxTime]="maxTime"
                               [graphHeight]="300"></history-graph>
            </div>
            <div class="section" *ngIf="individual">
                <h4>Individual: {{individual.getID()}}</h4>
                <table class="responsive-table highlight">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Value</th>
                        <th>From</th>
                        <th>To</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let fact of individual.getFacts()">
                        <td>{{fact.getName()}}</td>
                        <td>{{fact.getType()}}</td>
                        <td class="red lighten-2" *ngIf="fact.getValue().length >= 200" (click)="openValueModal(fact)">
                            ...
                        </td>
                        <td *ngIf="fact.getValue().length < 200">{{fact.getValue()}}</td>
                        <td>{{fact.getValidTemporal().getFrom()}}</td>
                        <td>{{fact.getValidTemporal().getTo()}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </mat-tab>
        <mat-tab label="Object Relations">
            <div class="section" *ngIf="individual">
                <table class="responsive-table highlight">
                    <thead>
                    <tr>
                        <th>Relation</th>
                        <th>From</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let relation of individual.getRelations()">
                        <td>{{relation.getType()}}</td>
                        <td>{{displayFn(relation.getObject())}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>