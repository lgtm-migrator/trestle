<div class="container">
    <div class="section">
        <h4>Search for Individual</h4>
        <form (ngSubmit)="onSubmit()" class="search-form">
            <md-input-container class="search-field">
                <input type="text" placeholder="Search for Individual" mdInput [formControl]="individualName"
                       [mdAutocomplete]="auto">
            </md-input-container>

            <md-autocomplete class="search-field" #auto="mdAutocomplete">
                <md-option *ngFor="let option of options | async" [value]="option">
                    {{displayFn(option)}}
                </md-option>
            </md-autocomplete>
            <button md-raised-button type="submit">submit</button>
        </form>
    </div>
    <div class="section">
        <div class="row">
            <div class="col s12 l7">
                <trestle-map [individual]="mapIndividual" [single]="true" [multiSelect]="false"></trestle-map>
            </div>
            <div class="col s12 l5">
                <individual-graph [config]="{data: individual}"></individual-graph>
            </div>
        </div>
    </div>
    <div class="section">
        <md-tab-group>
            <md-tab label="Fact History">
                <fact-history [data]="individual" [minTime]="minTime" [maxTime]="maxTime"
                              [graphHeight]="600"></fact-history>
            </md-tab>
            <md-tab label="Object History">
                Objects go here
            </md-tab>
        </md-tab-group>
    </div>
    <div class="section" *ngIf="individual">
        <h4>Individual: {{individual.getID()}}</h4>
        <table class="responsive-table highlight">
            <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Value</th>
                <th>From</th>
                <th>To</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let fact of individual.getFacts()">
                <td>{{fact.getName()}}</td>
                <td>{{fact.getType()}}</td>
                <td class="red lighten-2" *ngIf="fact.getValue().length >= 200" (click)="openValueModal(fact)">...</td>
                <td *ngIf="fact.getValue().length < 200">{{fact.getValue()}}</td>
                <td>{{fact.getValidTemporal().getFrom()}}</td>
                <td>{{fact.getValidTemporal().getTo()}}</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>